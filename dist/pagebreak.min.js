/*! pagebreak 2017-08-31 */

!function(t,e){var i=function(t){t=t||document.body,this.$ele=t,this.$opt={pageHeight:500}};i.prototype={pageHeight:function(t){return 0==arguments.length?this.$opt.pageHeight:(t!=this.$opt.pageHeight&&(this.$_cache=null,this.$opt.pageHeight=t),this)},containers:function(t){return 0==arguments.length?this.$opt.conts:(t!=this.$opt.conts&&(this.$_cache=null,this.$opt.conts=t),this)},each:function(t){this.$_cache||n.call(this);for(var e=0,i=this.$_cache.marks.length;e<i;e++)t.call(this,e,this.$_cache.marks[e]);return this},insert:function(){this.$_cache||n.call(this);var t;if("function"==typeof arguments[0])for(var e=0,i=this.$_cache.marks.length;e<i;e++){s=this.$_cache.marks[e];t=arguments[0].call(this,e),s.sibling?s.container.insertBefore(t,s.sibling):s.container.appendChild(t)}else if("string"==typeof arguments[0])for(var e=0,i=this.$_cache.marks.length;e<i;e++){s=this.$_cache.marks[e];for((h=document.createElement("div")).innerHTML=arguments[0],t=h.firstChild;t;){var r=t.nextSibling;h.removeChild(t),s.sibling?s.container.insertBefore(t,s.sibling):s.container.appendChild(t),t=r}}else for(var e=0,i=this.$_cache.marks.length;e<i;e++){var s=this.$_cache.marks[e],h=document.createElement("div");h.innerHTML=arguments[0].outerHTML,t=h.firstChild,s.sibling?s.container.insertBefore(t,s.sibling):s.container.appendChild(t)}return this},insertPageBreak:function(){return this.insert('<div style="page-break-after: always"></div>'),this},count:function(){return this.$_cache||n.call(this),this.$_cache.marks.length+1}};var n=function(){this.$_cache={marks:[]};for(var t=this.$ele,e=this.$opt.conts||[],i=this.$opt.pageHeight||500,n=[],s=t.firstChild,h=r(t),a=parseFloat(h.paddingTop),c=t.getBoundingClientRect(),o=c.top+a||0;s;){if("#text"==s.nodeName)s=s.nextSibling;else if(s.firstChild&&-1!=e.indexOf(s))n.push(s),s=s.firstChild;else{if((c=s.getBoundingClientRect()).top+s.offsetHeight-o>i){this.$_cache.marks.push({container:s.parentNode,sibling:s}),h=r(s);var l=parseFloat(h.marginTop);o=c.top-l}s=s.nextSibling}for(;!s&&n.length;)(s=n.pop())&&(s=s.nextSibling)}},r=function(t){return t.currentStyle||window.getComputedStyle(t)};t.pageBreak=function(t){return new i(t)}}(window,window.jQuery);
//# sourceMappingURL=pagebreak.min.js.map